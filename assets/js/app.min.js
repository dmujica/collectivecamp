/* jshint devel: true, jquery: true */
/* global */
/*! main class
 * @depends vendor/jquery.1.9.1.min.js
 */

var NAMESPACE = NAMESPACE || {};
NAMESPACE.Main = function(){
    // =================================================
    // = Private variables (example: var _foo = bar; ) =
    // =================================================
    var lastScrollTop = 0;
    // =================================================
    // = public functions                              =
    // =================================================
    var self = {

        init: function()
        {
            // $(window).on('scroll', showNavBar);
            $('.covervid-video').coverVid(1920, 1080);  
            $('.learn_link').on('click', changeSection);   
            $('.create_link').on('click', changeSection);   
            $('.grow_link').on('click', changeSection);   
            $('.where_link').on('click', changeSection);   
            $('.sponsors_link').on('click', changeSection);   
            $('.home_link').on('click', changeSection);   
            $(window).on('scroll', showNavBar);
            $('.hamburger').on('click', showMenu);
        }
    };

    return self;
    // ================================================
    // = Private functions (function _private () {} ) =
    // ================================================

    function changeSection(event)
    {
        event.preventDefault();
        console.log('suck it');
        var $target = $(event.currentTarget);

        if ($target.hasClass("learn_link"))
        {
            console.log('learn section');
            $('.learn').fadeIn(500);
            $('.create, .grow, .where, .sponsors, .intro').fadeOut(100);
        }
        if ($target.hasClass("create_link"))
        {
            console.log('create section');
            $('.create').fadeIn(500);
            $('.learn, .grow, .where, .sponsors, .intro').fadeOut(100);
        } 
        if ($target.hasClass("grow_link"))
        {
            console.log('grow section');
            $('.grow').fadeIn(500);
            $('.create, .learn, .where, .sponsors, .intro').fadeOut(100);
        }
        if ($target.hasClass("where_link"))
        {
            console.log('where section');
            $('.where').fadeIn(500);
            $('.create, .grow, .learn, .sponsors, .intro').fadeOut(100);
        }
        if ($target.hasClass("sponsors_link"))
        {
            console.log('sponsors section');
            $('.sponsors').fadeIn(500);
            $('.create, .grow, .learn, .where, .intro').fadeOut(100);
        }
        if ($target.hasClass("home_link"))
        {
            console.log('home section');
            $('.intro').fadeIn(500);
            $('.create, .grow, .learn, .where, .sponsors').fadeOut(100);
        }
    }

    function showNavBar() {
        if ($(window).width > 768)
        {
            var currentPosition = $(window).scrollTop();
            if (currentPosition > lastScrollTop){
                console.log('if window scroll is greater than one');
                $('nav').addClass("nav-up");
            } else {
              $('nav').removeClass("nav-up");
            }
            lastScrollTop = currentPosition;
        }
    }

    function showMenu(event) {
        event.preventDefault();
        console.log('suck it');
        var $target = $(event.currentTarget);

        if ($target.hasClass("hamburger"))
        {
            $('nav').toggleClass('hide-nav');
        }
    }

}();

$(document).ready(NAMESPACE.Main.init);